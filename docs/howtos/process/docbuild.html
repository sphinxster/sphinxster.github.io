

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation Generation &mdash; OTC-TCS Documentation Template 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-16x16.png"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Contributing to the Project" href="../../contribute/index.html" />
    <link rel="prev" title="Template Setup Guide" href="guide.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> OTC-TCS Documentation Template
          

          
            
            <img src="../../_static/logo_white_200w.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to the Read-The-Docs Example Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">How-Tos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#technical-notes">Technical Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tech/placeholder.html">Work in Progress</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#process-notes">Process Notes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="guide.html">Template Setup Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide.html#setup-steps">Setup Steps</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Documentation Generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#documentation-overview">Documentation overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-up-the-documentation-working-folders">Set up the documentation working folders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-the-documentation-tools">Installing the documentation tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documentation-presentation-theme">Documentation presentation theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-documentation-processors">Running the documentation processors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#publishing-content">Publishing content</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributing to the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/contribute_guidelines.html">Contribution Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/contribute_guidelines.html#dco-sign-off-methods">DCO Sign-Off Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/doc_guidelines.html">Documentation Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#headings">Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#content-highlighting">Content Highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#multi-column-lists">Multi-column lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#file-names-and-commands">File names and Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#internal-cross-reference-linking">Internal Cross-Reference Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#non-ascii-characters">Non-ASCII Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#code-and-command-examples">Code and Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#tabs-spaces-and-indenting">Tabs, spaces, and indenting</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OTC-TCS Documentation Template</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">How-Tos</a> &raquo;</li>
        
      <li>Documentation Generation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="documentation-generation">
<span id="doc-gen"></span><h1>Documentation Generation<a class="headerlink" href="#documentation-generation" title="Permalink to this headline">¶</a></h1>
<p>These instructions will walk you through generating the Read-The-Docs Example Project&#8217;s
documentation and publishing it to the <a class="reference external" href="https://github.com/sphinxus">documentation site</a>.
You can also use these instructions to generate the Read-The-Docs Example documentation
on your local system.</p>
<div class="section" id="documentation-overview">
<h2>Documentation overview<a class="headerlink" href="#documentation-overview" title="Permalink to this headline">¶</a></h2>
<p>The Read-The-Docs Example Project content is written using the reStructuredText markup
language (.rst file extension) with Sphinx extensions, and processed
using Sphinx to create a formatted stand-alone website. Developers can
view this content either in its raw form as .rst markup files, or you
can generate the HTML content and view it with a web browser directly on
your workstation.</p>
<p>You can read details about <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a>, and <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> from
their respective websites.</p>
<p>The project&#8217;s documentation contains the following items:</p>
<ul class="simple">
<li>ReStructuredText source files used to generate documentation found at the
<a class="reference external" href="http://thesofproject.github.io">http://thesofproject.github.io</a> website. All of the reStructuredText sources
are found in the <a class="reference external" href="https://github.com/sphinxus/rtd-example">documentation repo</a>.</li>
</ul>
<p>The reStructuredText files are processed by the Sphinx documentation system,
and make use of the breathe extension for including the doxygen-generated API
material.</p>
</div>
<div class="section" id="set-up-the-documentation-working-folders">
<h2>Set up the documentation working folders<a class="headerlink" href="#set-up-the-documentation-working-folders" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll need git installed to get the working folders set up:</p>
<ul>
<li><p class="first">For an Ubuntu development system use:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get install git
</pre></div>
</div>
</li>
<li><p class="first">For a Fedora development system use</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo dnf install git
</pre></div>
</div>
</li>
</ul>
<p>We use github.io
for publishing the generated documentation.
Here&#8217;s the recommended local folder setup for documentation contributions
and generation:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>project-name/
   document-repo/
</pre></div>
</div>
<p>The parent folder <code class="docutils literal"><span class="pre">project-name</span></code> is there to make room for the
publishing area that will come later.  It&#8217;s best if the <code class="docutils literal"><span class="pre">document-repo</span></code>
folder is an ssh clone of your personal fork of the upstream project
repos (though https clones work too):</p>
<ol class="arabic">
<li><p class="first">Use your browser to visit the <a class="reference external" href="https://github.com/sphinxus/rtd-example">documentation repo</a> and make a
fork of the repo to your personal GitHub account.</p>
<img alt="../../_images/fork-docs.png" src="../../_images/fork-docs.png" />
</li>
<li><p class="first">Copy the clone URL of the GitHub repo:</p>
<img alt="../../_images/copy-clone-url.png" src="../../_images/copy-clone-url.png" />
</li>
<li><p class="first">At a command prompt, create the working folder and clone
the <a class="reference external" href="https://github.com/sphinxus/rtd-example">documentation repo</a> to your local computer (and if you
have publishing rights, the <a class="reference external" href="https://github.com/sphinxus">documentation site</a>). If you don&#8217;t have
publishing rights, you&#8217;ll still be able to generate the docs locally, but
not publish them:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~
mkdir project-name <span class="o">&amp;&amp;</span> <span class="nb">cd</span> project-name
git clone git@github.com:&lt;github-username&gt;/&lt;project-name&gt;/&lt;document-repo&gt;.git
</pre></div>
</div>
</li>
<li><p class="first">For the cloned local repos, tell git about the upstream repo:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> sof-docs
git remote add upstream git@github.com:thesofproject/sof-docs.git
</pre></div>
</div>
</li>
<li><p class="first">If you haven&#8217;t done so already, be sure to configure git with your name
and email address for the signed-off-by line in your commit messages:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git config --global user.name <span class="s2">&quot;David Developer&quot;</span>
git config --global user.email <span class="s2">&quot;david.developer@company.com&quot;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="installing-the-documentation-tools">
<h2>Installing the documentation tools<a class="headerlink" href="#installing-the-documentation-tools" title="Permalink to this headline">¶</a></h2>
<p>Our documentation processing has been tested to run with:</p>
<ul class="simple">
<li>Python 3.6.3</li>
<li>Doxygen version 1.8.13</li>
<li>Sphinx version 1.7.5</li>
<li>Breathe version 4.9.1</li>
<li>docutils version 0.14</li>
<li>sphinx_rtd_theme version 0.4.0</li>
</ul>
<p>The SOF documentation makes use of additional Sphinx extensions used for
creating drawings:</p>
<ul class="simple">
<li>sphinxcontrib-plantuml</li>
<li>sphinx.ext.graphviz  (included with Sphinx)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The plantuml extension uses Java to render the uml drawing
syntax into an image. You&#8217;ll need to have a Java runtime environment
(JRE) installed when generating documentation.</p>
</div>
<p>Depending on your Linux version, install the needed tools:</p>
<ul>
<li><p class="first">For Ubuntu use:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get install doxygen python3-pip python3-wheel make default-jre
</pre></div>
</div>
</li>
<li><p class="first">For Fedora use:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo dnf install doxygen python3-pip python3-wheel make default-jre
</pre></div>
</div>
</li>
</ul>
<p>And for either Linux environment, install the remaining python-based
tools:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/thesofproject/sof-docs
pip3 install --user -r scripts/requirements.txt
</pre></div>
</div>
<p>And with that you&#8217;re ready to generate the documentation.</p>
</div>
<div class="section" id="documentation-presentation-theme">
<h2>Documentation presentation theme<a class="headerlink" href="#documentation-presentation-theme" title="Permalink to this headline">¶</a></h2>
<p>Sphinx supports easy customization of the generated documentation
appearance through the use of themes.  Replace the theme files and do
another <code class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></code> and the output layout and style is changed.
The <code class="docutils literal"><span class="pre">read-the-docs</span></code> theme is installed as part of the
<code class="docutils literal"><span class="pre">requirements.txt</span></code> list above.</p>
</div>
<div class="section" id="running-the-documentation-processors">
<h2>Running the documentation processors<a class="headerlink" href="#running-the-documentation-processors" title="Permalink to this headline">¶</a></h2>
<p>The sof-docs directory has all the .rst source files, extra tools, and Makefile for
generating a local copy of the SOF technical documentation.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/thesofproject/sof-docs
make html
</pre></div>
</div>
<p>Depending on your development system, it will take about 10 seconds to
collect and generate the HTML content.  When done, you can view the HTML
output with your browser started at <code class="docutils literal"><span class="pre">~/thesofproject/sof-docs/_build/html/index.html</span></code></p>
</div>
<div class="section" id="publishing-content">
<h2>Publishing content<a class="headerlink" href="#publishing-content" title="Permalink to this headline">¶</a></h2>
<p>If you have merge rights to the thesofproject repo called
thesofproject.github.io, you can update the public project documentation
found at <a class="reference external" href="https://thesofproject.github.io">https://thesofproject.github.io</a>.</p>
<p>You&#8217;ll need to do a one-time clone of the upstream repo (we publish
directly to the upstream repo rather than to a personal forked copy):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/thesofproject
git clone git@github.com:thesofproject/thesofproject.github.io.git
</pre></div>
</div>
<p>Then, after you&#8217;ve verified the generated HTML from <code class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></code> looks
good, you can push directly to the publishing site with:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>make publish
</pre></div>
</div>
<p>This will delete everything in the publishing repo&#8217;s <strong>latest</strong> folder
(in case the new version has
deleted files) and push a copy of the newly-generated HTML content
directly to the GitHub pages publishing repo.  The public site at
<a class="reference external" href="https://thesofproject.github.io">https://thesofproject.github.io</a> will be updated within a few minutes
so it&#8217;s best to verify the locally generated html before publishing.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, OTC-TCS Documentation Template.
      Last updated on Jun 25, 2018.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>